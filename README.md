# Тетрис на PyGame

Классическая игра Тетрис, реализованная на Python с использованием библиотеки Pygame.

## Возможности

- ✅ Классический геймплей Тетриса
- ✅ Система подсчета очков и уровней
- ✅ Автоматическое ускорение игры с уровнем
- ✅ Отображение следующей фигуры
- ✅ Управление клавиатурой
- ✅ Экран Game Over

## Установка

### Требования

- Python 3.8 или выше
- pip (менеджер пакетов Python)

### Установка зависимостей

```bash
pip install -r requirements.txt
```

Или установите pygame напрямую:

```bash
pip install pygame
```

## Запуск игры

### Запуск из исходного кода

```bash
python main.py
```

## Сборка

### Сборка в .exe приложение (Windows)

Для создания исполняемого файла используется PyInstaller:

```bash
python build_scripts/build_exe.py
```

После сборки исполняемый файл `Tetris.exe` будет находиться в папке `dist/`.

**Требования для сборки:**
- PyInstaller (устанавливается автоматически скриптом)

### Сборка веб-версии

Для создания веб-версии используется pygbag:

```bash
python build_scripts/build_web.py
```

После сборки веб-версия будет находиться в папке `web_build/`.

**Локальный запуск веб-версии:**

```bash
python -m http.server 8000
```

Затем откройте в браузере: `http://localhost:8000/web_build/index.html`

**Размещение на сервере:**

Загрузите содержимое папки `web_build/` на ваш веб-сервер.

**Требования для сборки:**
- pygbag (устанавливается автоматически скриптом)

**Примечание:** pygbag может потребовать дополнительной настройки `main.py` для корректной работы в браузере (использование asyncio). Если возникают проблемы, обратитесь к документации pygbag.

## Управление

- **← →** (Стрелки влево/вправо) - Движение фигуры влево/вправо
- **↓** (Стрелка вниз) - Ускоренное падение фигуры
- **↑** (Стрелка вверх) - Поворот фигуры на 90° по часовой стрелке
- **R** - Рестарт игры (после Game Over)

## Структура проекта

```
tetris/
├── src/                      # Исходный код игры
│   ├── __init__.py
│   ├── game_logic.py        # Основная логика игры (класс Game)
│   ├── board.py             # Класс игрового поля
│   └── pieces.py            # Фигуры тетриса и функции работы с ними
├── build_scripts/           # Скрипты для сборки
│   ├── build_exe.py        # Сборка в .exe приложение
│   └── build_web.py        # Сборка веб-версии для сайта
├── main.py                  # Главный файл запуска игры
├── requirements.txt         # Зависимости проекта
├── README.md               # Этот файл
└── .gitignore              # Игнорируемые файлы Git
```

## Правила игры

1. Фигуры падают сверху вниз автоматически
2. Используйте стрелки для управления фигурой
3. Цель - заполнить горизонтальные линии
4. Полностью заполненные линии удаляются
5. За каждую удаленную линию начисляются очки
6. Игра ускоряется с каждым уровнем
7. Игра заканчивается, когда фигуры достигают верха поля

## Система очков

- За одну линию: 100 × уровень
- За две линии: 400 × уровень
- За три линии: 900 × уровень
- За четыре линии: 1600 × уровень

Уровень увеличивается каждые 10 очищенных линий.

## Технологии

- **Python 3.8+**
- **Pygame 2.5+** - для графики и управления
- **PyInstaller** - для сборки в .exe (опционально)
- **pygbag** - для сборки веб-версии (опционально)

## Лицензия

Проект создан в образовательных целях. Свободное использование и модификация.

## Разработка

Проект следует принципам модульной архитектуры:
- Игровая логика отделена от представления
- Класс `Game` управляет всем игровым процессом
- Класс `Board` отвечает за игровое поле
- Функции работы с фигурами вынесены в отдельный модуль
